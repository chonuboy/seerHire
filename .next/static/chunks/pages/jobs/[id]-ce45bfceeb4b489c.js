(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[914],{70349:(e,s,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/jobs/[id]",function(){return l(62201)}])},62201:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>x});var t=l(74848),n=l(64547),r=l(97154),d=l(86715),i=l(80698),a=l(70879),c=l(96540),o=l(5510);let u=e=>{let{currentJob:s}=e,l=(e=>{let s=new DOMParser().parseFromString(e,"text/html");return s.querySelectorAll("ul").forEach(e=>{e.classList.add("list-disc"),e.classList.add("list-inside"),e.classList.add("pl-4"),e.classList.add("space-y-2")}),s.querySelectorAll("li").forEach(e=>{e.classList.add("list-item"),e.style.letterSpacing="1px"}),s.body.innerHTML})((null==s?void 0:s.jobDescription)||"");return(0,t.jsx)("div",{className:"w-full space-y-4 text-lg",dangerouslySetInnerHTML:{__html:l}})};function m(e){let{jobId:s}=e,[l,n]=(0,c.useState)(null),[r,d]=(0,c.useState)(!1),[i,o]=(0,c.useState)(null),[u,m]=(0,c.useState)(null),x=async()=>{if(!l){m("Please select a file to upload.");return}d(!0),m(null),o(null);try{(0,a.Xe)(s,l).then(e=>{console.log(e),o(e),d(!1),n(null)})}catch(e){m(e.message||"An error occurred during upload.")}finally{d(!1)}};return(0,t.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[(0,t.jsx)("div",{className:"mb-4 flex justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Choose a file (PDF, DOC, DOCX)"}),(0,t.jsx)("input",{type:"file",accept:".pdf,.doc,.docx",onChange:e=>{e.target.files&&e.target.files[0]&&n(e.target.files[0])},className:"py-2 px-2 border rounded-lg focus:outline-[var(--theme-background)]"})]})}),(0,t.jsx)("button",{onClick:x,disabled:r||!l,className:"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:bg-blue-300 disabled:cursor-not-allowed",children:r?"Uploading...":"Upload"}),i&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-md text-green-700",children:[(0,t.jsx)("p",{className:"font-medium",children:"Upload Successful!"}),(0,t.jsx)("pre",{className:"mt-2 text-sm",children:JSON.stringify(i,null,2)})]}),u&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-md text-red-700",children:[(0,t.jsx)("p",{className:"font-medium",children:"Error:"}),(0,t.jsx)("p",{className:"mt-2 text-sm",children:u})]})]})}function x(){let e=(0,d.useRouter)(),s=Number(e.query.id),[l,x]=(0,c.useState)(null);return(0,c.useEffect)(()=>{s&&(0,a.WD)(s).then(e=>{x(e),console.log(e.jobDescription)}).catch(e=>{console.log(e)})},[]),(0,t.jsxs)(n.A,{children:[(0,t.jsx)(r.A,{title:"Job"}),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Client Info"}),l?(0,t.jsx)(o.A,{id:null==l?void 0:l.client.clientId}):"No Client",(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Job Info"}),(0,t.jsx)(i.o,{jobData:l,onClient:!0,isClient:!0}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Job Description"}),(0,t.jsx)(m,{jobId:Number(e.query.id)})]}),(0,t.jsx)(u,{currentJob:l}),(0,t.jsxs)("div",{className:"flex justify-end items-end gap-4",children:[(0,t.jsx)("button",{className:"bg-gray-400 px-4 py-1 rounded-md hover:bg-gray-500 hover:text-white",onClick:()=>e.push("/jobs/".concat(s,"/interviews")),children:"Interview Section"}),(0,t.jsx)("button",{className:"bg-blue-500 px-4 py-1 rounded-md hover:bg-blue-600 hover:text-white",onClick:()=>e.push("/jobs/".concat(s,"/candidates")),children:"View Candidates"})]})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[228,392,661,928,335,664,149,578,695,636,593,792],()=>s(70349)),_N_E=e.O()}]);